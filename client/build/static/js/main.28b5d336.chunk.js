(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(15),c=a.n(r),o=(a(48),a(4)),i=a(5),s=a(6),m=a(8),u=a(7),d=a(9),p=a(3),h=(a(56),a(37)),g=a.n(h),f=function(e){e.preventDefault(),g()({title:"You're not logined!",icon:"warning"})},E=function(e){var t=e.image,a=e.title,n=e.director,r=e.length,c=e.id,i=localStorage.getItem("token");return l.a.createElement("div",{className:"move"},l.a.createElement(p.b,null,l.a.createElement(p.d,{top:!0,width:"100%",height:"60%",src:t,alt:"Card image cap"}),l.a.createElement(p.c,null,l.a.createElement(p.g,null,a),l.a.createElement(p.e,null,"Director: ",n),l.a.createElement(p.f,null,"Length: ",r),null!==i?l.a.createElement("button",{className:"btn btn-info"},l.a.createElement(o.a,{to:"/order/".concat(c)},"Book now!")):l.a.createElement("button",{className:"btn btn-info",onClick:f},"Book now!"))))},b=function(e){var t=e.movies,a=e.search;return t&&t.filter(function(e){return-1!==e.title.toLowerCase().indexOf(a.toLowerCase())}).map(function(e,t){return l.a.createElement(p.m,{key:t,sm:"4"},l.a.createElement(E,{index:t,image:e.image,title:e.title,director:e.director,length:e.length,id:e.id_movie}))})},v=(a(60),a(62),a(14)),y=(Object(n.lazy)(function(){return a.e(1).then(a.bind(null,116))}),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={movies:null,search:""},a.handleOnChange=function(e){a.setState({search:e.target.value.substr(0,20)})},a.handleLogout=function(e){e.preventDefault(),localStorage.removeItem("user"),localStorage.removeItem("token"),Object(o.d)("/")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/movies").then(function(e){return e.json()}).then(function(t){e.setState({movies:t.movies})})}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.search,n=localStorage.getItem("user");return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light",style:{background:"#039be5",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08)",color:"#ffffff"}},l.a.createElement("a",{class:"navbar-brand"},"Movie App"),l.a.createElement("div",null,n?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{marginRight:10}},localStorage.getItem("userName")),l.a.createElement(p.a,{size:"sm",onClick:this.handleLogout},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-pill btn-success"},l.a.createElement(o.a,{to:"signUp"},"Sign up"))," ",l.a.createElement("button",{className:"btn btn-pill btn-danger"},l.a.createElement(o.a,{to:"login"},"Log in"))))),l.a.createElement(p.n,null,l.a.createElement("div",{className:"input-icon",style:{marginBottom:20}},l.a.createElement("span",{className:"input-icon-addon"},l.a.createElement("i",{className:"fe fe-search"})),l.a.createElement("input",{type:"text",onChange:this.handleOnChange,className:"form-control",placeholder:"Search movie..."})),l.a.createElement(p.w,null,l.a.createElement(b,{movies:t,search:a}))))}}]),t}(n.Component)),j=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(y,null)}}]),t}(l.a.Component),N=a(10),O=(a(64),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleChange=function(e){e.preventDefault(),a.setState(Object(N.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=JSON.stringify({email:a.state.email,password:a.state.password});fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/login",{method:"post",body:t,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.error?(console.log("Handle Error Login Here"),Object(o.d)("/login")):(localStorage.setItem("token",e.token),"admin"===e.role?(localStorage.setItem("adminName",e.name),localStorage.setItem("admin",!0),Object(o.d)("/admin")):(localStorage.setItem("user",!0),localStorage.setItem("userName",e.name),Object(o.d)("/")))}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("user")&&Object(o.d)("/"),localStorage.getItem("admin")&&Object(o.d)("/admin")}},{key:"render",value:function(){var e;return console.log(this.state),l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"btn btn-primary"},l.a.createElement(o.a,{to:"/"},l.a.createElement("i",{class:"fe fe-arrow-left mr-2"}),"Back")),l.a.createElement("div",null,l.a.createElement(p.r,{onSubmit:this.handleSubmit},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col col-login mx-auto"},l.a.createElement("form",{class:"card",action:"",method:"post"},l.a.createElement("div",{class:"card-body p-6"},l.a.createElement("div",{class:"card-title"},"Login to your account"),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{class:"form-label"},"Email address"),l.a.createElement("input",{type:"email",class:"form-control",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:this.handleChange})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{class:"form-label"},"Password"),l.a.createElement("input",(e={type:"password",class:"form-control",onChange:this.handleChange},Object(N.a)(e,"type","password"),Object(N.a)(e,"name","password"),Object(N.a)(e,"placeholder","password"),e))),l.a.createElement("div",{class:"form-footer"},l.a.createElement("button",{type:"submit",class:"btn btn-primary btn-block"},"Sign in"))))))))))}}]),t}(n.Component)),x=a(17),S=(a(66),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.onClick=function(e){e.preventDefault(),fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/user/create/account",{method:"post",body:JSON.stringify({email:a.state.email,password:a.state.password,name:a.state.name,sdt:a.state.sdt}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){Object(o.d)("/login")}).catch(function(e){return console.log(e)})},a.state={name:"",email:"",password:"",sdt:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(Object(x.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;return l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"btn btn-primary"},l.a.createElement(o.a,{to:"/"},l.a.createElement("i",{class:"fe fe-arrow-left mr-2"}),"Back")),l.a.createElement("div",null,l.a.createElement(p.r,{onSubmit:this.onClick},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col col-login mx-auto"},l.a.createElement("form",{class:"card",action:"",method:"post"},l.a.createElement("div",{class:"card-body p-6"},l.a.createElement("div",{class:"card-title"},"Sign Up"),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{class:"form-label"},"Name"),l.a.createElement("input",{type:"text",class:"form-control",name:"name",placeholder:"Enter name",onChange:this.handleInputChange})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{class:"form-label"},"Phone Number"),l.a.createElement("input",{type:"text",class:"form-control",name:"sdt","aria-describedby":"emailHelp",placeholder:"Enter phone",onChange:this.handleInputChange})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{class:"form-label"},"Email address"),l.a.createElement("input",{type:"email",class:"form-control",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:this.handleInputChange})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{class:"form-label"},"Password"),l.a.createElement("input",(e={type:"password",class:"form-control",onChange:this.handleInputChange},Object(N.a)(e,"type","password"),Object(N.a)(e,"name","password"),Object(N.a)(e,"placeholder","password"),e))),l.a.createElement("div",{class:"form-footer"},l.a.createElement("button",{type:"submit",class:"btn btn-primary btn-block"},"Sign up"))))))))))}}]),t}(n.Component)),k=(a(68),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).onDelete=function(e){e.preventDefault(),fetch("".concat(v.apiLocalhost,"/admin/delete/movie/").concat(a.props.id),{method:"delete",headers:{Accept:"application/json","x-auth":localStorage.getItem("token")},credentials:"include"}).then(function(e){return e.json()}).then(function(e){return console.log(e)})},a.onEdit=function(e){e.preventDefault()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.image,n=e.length,r=e.director,c=e.price,i=e.released,s=e.description;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.m,{xs:"10"},l.a.createElement(p.v,null,l.a.createElement(p.v,{left:!0,href:"#"},l.a.createElement("img",{src:a,alt:t})),l.a.createElement(p.v,{body:!0},l.a.createElement(p.v,{heading:!0},t),l.a.createElement("p",null,l.a.createElement("strong",null,"Director: ")," ",r),l.a.createElement("p",null,l.a.createElement("strong",null,"Length: "),n," minutes"),l.a.createElement("p",null,l.a.createElement("strong",null,"Reased: "),i),l.a.createElement("p",null,l.a.createElement("strong",null,"Price: "),c,",000 VND"),l.a.createElement("p",null,l.a.createElement("strong",null,"Description: "),s)))),l.a.createElement(p.m,{xs:"2"},l.a.createElement(p.a,{className:"btn btn-danger",onClick:this.onDelete},"Delete"),l.a.createElement(p.a,{className:"btn btn-info",onClick:this.onEdit},l.a.createElement(o.a,{className:"link-btn",to:"/admin/edit_movie/".concat(this.props.id)},"Edit"))))}}]),t}(l.a.Component)),C=function(e){var t=e.movies,a=e.search;return t&&t.filter(function(e){return-1!==e.title.toLowerCase().indexOf(a.toLowerCase())}).map(function(e,t){return l.a.createElement(k,{index:t,image:e.image,title:e.title,director:e.director,length:e.length,released:e.released,price:e.price,description:e.discription,id:e.id_movie})})},w=(a(70),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={auth:!1,movies:null,search:""},a.handleLogout=function(e){e.preventDefault(),localStorage.removeItem("admin"),localStorage.removeItem("token"),Object(o.d)("/")},a.handleOnChange=function(e){a.setState({search:e.target.value.substr(0,20)}),console.log(a.state.search)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(v.apiLocalhost,"/user/get/all/movie")).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({movies:t.movies})})}},{key:"componentWillMount",value:function(){var e=localStorage.getItem("admin");console.log(e),this.setState({auth:e})}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.search;return l.a.createElement(p.n,null,l.a.createElement("h1",null,"Admin "),this.state.auth?l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null,localStorage.getItem("adminName")),l.a.createElement(p.a,{onClick:this.viewOrder},l.a.createElement(o.a,{to:"/admin/view_ordered"},"View order")),l.a.createElement(p.a,{onClick:this.handleLogout},"Logout"),l.a.createElement("div",{className:"input"},l.a.createElement("input",{type:"text",placeholder:"Search ...",onChange:this.handleOnChange}),l.a.createElement(p.a,{className:"btn btn-success"},l.a.createElement(o.a,{to:"/admin/add_movie"},"+ ADD MOIVE"))),l.a.createElement(p.w,null,l.a.createElement(C,{movies:t,search:a}))):l.a.createElement(o.b,{to:"login",noThrow:!0}))}}]),t}(n.Component)),I=(a(72),function(){return l.a.createElement("div",{className:"FourOhFour"},l.a.createElement("div",{className:"bg",style:{backgroundImage:"url( ".concat("http://i.giphy.com/l117HrgEinjIA.gif"," )")}}),l.a.createElement("div",{className:"code"},"404"))}),_=a(19),A=(a(75),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={showDay:null,id_day:null,times:null,id_time:null,seated:null,seatWanted:[],movie:null},a.initPaymentRequest=function(){var e=[{supportedMethods:"basic-card",data:{supportedNetworks:["mastercard","visa"],supportedTypes:["debit","credit","prepaid"]}}];return new window.PaymentRequest(e,{total:{label:"Venom Ticket",amount:{currency:"USD",value:"10.00"}},displayItems:[{label:"#1 Ticket",amount:{currency:"USD",value:"10.00"}}]})},a.handleSelectDay=function(e){a.setState({id_day:e.target.value}),fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/user/get/time/".concat(a.props.id_movie,"/").concat(e.target.value),{method:"get",headers:{Accept:"application/json","x-auth":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return a.setState({times:e.times})})},a.hadleSelectTime=function(e){a.setState({id_time:e.target.value});var t=a.state.id_day;fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/user/get/seated/".concat(a.props.id_movie,"/").concat(t,"/").concat(e.target.value),{method:"get",headers:{Accept:"application/json","x-auth":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){a.setState({seated:e.seated}),console.log(e)})},a.getCheck=function(e){a.setState({seatWanted:Object(_.a)(a.state.seatWanted).concat([[e.target.name]])})},a.sendOrder=function(){var e=a.state.seatWanted.flat().map(function(e){return parseInt(e)+1});fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/booking",{method:"post",body:JSON.stringify({id_movie:a.props.id_movie,id_date:a.state.id_day,id_time:a.state.id_time,id_seat:e}),headers:{Accept:"application/json","Content-Type":"application/json","x-auth":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){var t=e.order.map(function(e){return e.id_order}).join("-");Object(o.d)("/order/success/".concat(t))}).catch(function(e){return console.log(e)})},a.handleOrder=function(e){window.PaymentRequest?a.initPaymentRequest().show().then(function(e){return a.sendOrder(),e.complete("success")}).catch(function(e){console.log(e)}):console.log("This browser does not support web payments")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/movies/".concat(this.props.id_movie),{method:"get",headers:{Accept:"application/json","x-auth":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(t){return e.setState({movie:t.movie})}),fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/user/get/date/".concat(this.props.id_movie),{method:"get",headers:{Accept:"application/json","x-auth":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(t){return e.setState({showDay:t.dates})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showDay,n=t.times,r=t.seated,c=(t.seatWanted,t.movie);return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light",style:{background:"#039be5",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08)",color:"#ffffff"}},l.a.createElement("a",{class:"navbar-brand"},"Movie App"),l.a.createElement("div",null,l.a.createElement("span",{style:{marginRight:10}},localStorage.getItem("userName")))),c&&l.a.createElement("div",{className:"container",style:{marginTop:0}},l.a.createElement("div",{className:"row"},c&&l.a.createElement("div",{className:"col-md-6 offset-md-3 mr"},l.a.createElement("div",{className:"card card-aside"},l.a.createElement("a",{className:"card-aside-column",style:{backgroundImage:"url(".concat(c.image,")")}},""),l.a.createElement("div",{className:"card-body d-flex flex-column"},l.a.createElement("h4",null,c.title," (",c.released,")"),l.a.createElement("div",{className:"text-muted "},c.discription),l.a.createElement("div",{className:"mt"},l.a.createElement("button",{type:"button",className:"btn  btn-pill btn-info"},l.a.createElement("i",{className:"fe fe-message-circle mr-2"}),"View Trailer")))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 offset-md-3"},l.a.createElement("div",{className:"card-play"},l.a.createElement("div",{className:"form-group"},l.a.createElement("h4",null,"Select date play"),l.a.createElement("div",{className:"selectgroup w-100"},a&&a.map(function(t,a){return l.a.createElement("label",{key:a,className:"selectgroup-item"},l.a.createElement("input",{type:"radio",name:"id_date",value:t.id_date,className:"selectgroup-input",onChange:e.handleSelectDay}),l.a.createElement("span",{className:"selectgroup-button"},t.date,"/11"))}))),n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Selected schedule"),l.a.createElement("div",{className:"selectgroup selectgroup-pills"},n.map(function(t,a){return l.a.createElement("label",{key:a,className:"selectgroup-item"},l.a.createElement("input",{type:"radio",name:"id_time",value:t.id_time,className:"selectgroup-input",onChange:e.hadleSelectTime}),l.a.createElement("span",{className:"selectgroup-button selectgroup-button-icon p-10"},l.a.createElement("i",{className:"fe fe-sun icon-r"}),t.time/60,"h"))}))),l.a.createElement("div",{className:"form-group"},r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Select seat"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8 col-md-8"},l.a.createElement("div",{className:"row gutters-xs"},[1,2,3,4,5,6,7,8,9,10,11,12].map(function(t,a){return-1!==r.map(function(e){return e.id_seat}).indexOf(t)?l.a.createElement("div",{key:a,className:"col-auto"},l.a.createElement("label",{className:"colorinput"},l.a.createElement("input",{name:a,type:"checkbox",onChange:e.getCheck,value:t,className:"colorinput-input",disabled:!0}),l.a.createElement("span",{className:"colorinput-color bg-orange"}))):l.a.createElement("div",{key:a,className:"col-auto"},l.a.createElement("label",{className:"colorinput"},l.a.createElement("input",{name:a,type:"checkbox",className:"colorinput-input",onChange:e.getCheck,value:t}),l.a.createElement("span",{className:"colorinput-color bg-azure"})))}))),l.a.createElement("div",{className:"col-12 col-md-4"},l.a.createElement("div",{className:"row gutters-xs"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"colorinput "},l.a.createElement("span",{className:"colorinput-color bg-orange"}),l.a.createElement("span",{className:"mr-seat-info"},"Reserved")))),l.a.createElement("div",{className:"row gutters-xs"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"colorinput "},l.a.createElement("span",{className:"colorinput-color bg-azure"}),l.a.createElement("span",{className:"mr-seat-info"},"Free"))))))))),l.a.createElement("button",{onClick:this.handleOrder,type:"button",className:"btn btn-indigo btn-block mb"},"Order Now")))))}}]),t}(n.Component)),D=a(39),T=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.id_order.split("-");return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light",style:{background:"#039be5",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08)",color:"#ffffff"}},l.a.createElement("a",{class:"navbar-brand"},"Movie App"),l.a.createElement("div",null,l.a.createElement("span",{style:{marginRight:10}},localStorage.getItem("userName")))),l.a.createElement(p.n,{style:{textAlign:"center"}},e.map(function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Ordered Success"),l.a.createElement(D.QRCode,{bgColor:"#ffffff",fgColor:"#000000",level:"Q",style:{padding:10,background:"#ffffff",width:256,margin:10,boxShadow:"0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15)"},value:e}),l.a.createElement("p",null,"* Use this QR Code to verify in the cinema"),l.a.createElement("h4",null,"Thank you!"))})))}}]),t}(n.Component),L=function(e){return e.cats.map(function(t,a){var n="cat-".concat(a),r="age-".concat(a);return l.a.createElement("div",{key:a},l.a.createElement("label",{htmlFor:n},"Cat #".concat(a+1)),l.a.createElement("input",{type:"text",name:n,"data-id":a,id:n,value:e.cats[a].name,className:"name"}),l.a.createElement("label",{htmlFor:r},"Age"),l.a.createElement("input",{type:"text",name:r,"data-id":a,id:r,value:e.cats[a].age,className:"age"}))})},F=a(40),M=a.n(F),B=a(26),R=a.n(B);a(113),a(89);R.a.initializeApp({apiKey:"AIzaSyAsoEs4lxeAEc4paNkCmxsBI1nauC13S54",authDomain:"uploadimage-cdb0f.firebaseapp.com",databaseURL:"https://uploadimage-cdb0f.firebaseio.com",projectId:"uploadimage-cdb0f",storageBucket:"uploadimage-cdb0f.appspot.com",messagingSenderId:"130161612171"});var P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={movie_name:"",director:"",description:"",avatar:null,length:null,year_rel:null,price:null,cats:[{name:"",age:""}]},a.handleInputChange=function(e){if(["name","age"].includes(e.target.className)){var t=Object(_.a)(a.state.cats);t[e.target.dataset.id][e.target.className]=e.target.value,a.setState({cats:t},function(){return console.log(a.state.cats)})}else a.setState(Object(N.a)({},e.target.name,e.target.value),function(){return console.log(a.state)})},a.addCart=function(e){e.preventDefault(),a.setState({cats:Object(_.a)(a.state.cats).concat([{name:"",age:""}])})},a.selectFileHandler=function(e){var t=R.a.storage().ref(),n=M()("0123456789abcdefghijklmnoprstuvwsyz-",8);t.child("movie/".concat(n,".jpg")).put(e.target.files[0]).then(function(e){e.ref.getDownloadURL().then(function(e){console.log(e),a.setState({avatar:e})})})},a.handleAdd=function(e){e.preventDefault();var t=a.state,n=t.director,l=t.length,r=t.cats,c=t.year_rel,o=t.price,i=t.movie_name,s=t.description,m=t.avatar,u=r.map(function(e){return{date:parseInt(e.name),time:e.age.split(" ").map(function(e){return parseInt(e)})}});console.log(a.state),fetch("http://localhost:8080/admin/add/movie",{method:"post",body:JSON.stringify({director:n,data:u,title:i,length:parseInt(l),released:parseInt(c),discription:s,price:parseInt(o),imageUrl:m}),headers:{Accept:"application/json","Content-Type":"application/json","x-auth":localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){return console.log(e)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.cats;return l.a.createElement(p.n,null,l.a.createElement(p.s,{onChange:this.handleInputChange},l.a.createElement(p.u,{for:"exampleText"},"Movie name"),l.a.createElement(p.t,{type:"text",name:"movie_name"}),l.a.createElement(p.u,{for:"exampleText"},"Director"),l.a.createElement(p.t,{type:"text",name:"director"}),l.a.createElement(p.u,{for:"exampleText"},"Image"),l.a.createElement(p.t,{type:"file",onChange:this.selectFileHandler}),l.a.createElement(p.u,{for:"exampleText"},"Description"),l.a.createElement(p.t,{type:"textarea",name:"description"}),l.a.createElement(p.u,{for:"exampleText"},"Length"),l.a.createElement(p.t,{type:"number",name:"length"}),l.a.createElement(p.u,{for:"exampleText"},"Year release"),l.a.createElement(p.t,{type:"number",name:"year_rel"}),l.a.createElement(p.u,{for:"exampleText"},"Price"),l.a.createElement(p.t,{type:"text",name:"price"}),l.a.createElement("button",{onClick:this.addCart},"Add new date"),l.a.createElement(L,{cats:e}),l.a.createElement("button",{className:"btn btn-danger",onClick:this.handleAdd},"Add this movie")))}}]),t}(n.Component),U=(a(91),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={ordered:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(v.apiLocalhost,"/admin/get/all/order"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-auth":localStorage.getItem("token")},credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e.setState({ordered:t.order})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.ordered;return l.a.createElement("div",{className:"container"},l.a.createElement(p.a,{className:"bnt btn-danger"},l.a.createElement(o.a,{to:"/admin"},"<<--")),l.a.createElement(p.x,null,l.a.createElement(p.q,{caret:!0},"Sort"),l.a.createElement(p.p,null,l.a.createElement(p.o,null,"Date"),l.a.createElement(p.o,null,"Hours"),l.a.createElement(p.o,null,"Film"))),l.a.createElement("div",{className:"nav-bar grid-container"},l.a.createElement("div",{className:"item"},"IdOder"),l.a.createElement("div",{className:"item"},"Name"),l.a.createElement("div",{className:"item"},"Movie"),l.a.createElement("div",{className:"item"},"Date"),l.a.createElement("div",{className:"item"},"Time"),l.a.createElement("div",{className:"item"},"Seat"),l.a.createElement("div",{className:"item"},"Price"),l.a.createElement("div",{className:"item"},"Status"),l.a.createElement("div",{className:"item"},"Time Order")),l.a.createElement("div",{className:"order-container"},e&&e.sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}).map(function(e){return l.a.createElement("div",{className:"order grid-container"},l.a.createElement("div",{className:"order col-sm"},e.id_order),l.a.createElement("div",{className:"order col-sm"},e.name),l.a.createElement("div",{className:"order col-sm"},e.title),l.a.createElement("div",{className:"order col-sm"},e.date),l.a.createElement("div",{className:"order col-sm"},e.time),l.a.createElement("div",{className:"order col-sm"},e.id_seat),l.a.createElement("div",{className:"order col-sm"},e.price,".000 VND"),l.a.createElement("div",{className:"order col-sm"},e.status),l.a.createElement("div",{className:"order col-sm"},e.time_order))})))}}]),t}(n.Component)),H=a(42),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={movie:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(this.props.id_movie),fetch("http://localhost:8080/admin/get/movie/".concat(this.props.id_movie),{method:"get",headers:{Accept:"application/json","x-auth":localStorage.getItem("token"),"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({movie:t.movie})})}},{key:"render",value:function(){var e=this,t=this.state.movie;return console.log(this.state),t&&l.a.createElement(p.n,null,l.a.createElement("h1",null,"Edit your movie now !"),l.a.createElement(H.a,{initialValues:{director:t.director,discription:t.discription,image:t.image,length:t.length,price:t.price,released:t.released,title:t.title},onSubmit:function(t,a){a.setSubmitting;console.log(t),fetch("http://localhost:8080/admin/edit/movie/".concat(e.props.id_movie),{method:"post",body:JSON.stringify({title:t.title,director:t.director,description:t.discription,length:t.length,released:t.released,price:t.price,imageUrl:t.image}),headers:{Accept:"application/json","x-auth":localStorage.getItem("token"),"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},function(e){var t=e.values,a=e.handleChange,n=e.handleBlur,r=e.handleSubmit,c=e.isSubmitting;return l.a.createElement("form",{onSubmit:r},l.a.createElement("label",null,"Title"),l.a.createElement("input",{type:"text",name:"title",onChange:a,onBlur:n,value:t.title}),l.a.createElement("label",null,"Director"),l.a.createElement("input",{type:"text",name:"director",onChange:a,onBlur:n,value:t.director}),l.a.createElement("label",null,"Description"),l.a.createElement("input",{type:"text",name:"discription",onChange:a,onBlur:n,value:t.discription}),l.a.createElement("label",null,"Image"),l.a.createElement("input",{type:"text",name:"image",onChange:a,onBlur:n,value:t.image}),l.a.createElement("label",null,"Length"),l.a.createElement("input",{type:"text",name:"length",onChange:a,onBlur:n,value:t.length}),l.a.createElement("label",null,"Year released"),l.a.createElement("input",{type:"text",name:"released",onChange:a,onBlur:n,value:t.released}),l.a.createElement("label",null,"Price"),l.a.createElement("input",{type:"text",name:"price",onChange:a,onBlur:n,value:t.price}),l.a.createElement("button",{type:"submit",disabled:c},"Submit"))}))}}]),t}(l.a.Component),z=a(41),J=a.n(z),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleScan=function(e){e&&Object(o.d)("checkin/".concat(e))},a.handleError=function(e){console.error(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light",style:{background:"#039be5",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08)",color:"#ffffff"}},l.a.createElement("a",{class:"navbar-brand"},"Movie App")),l.a.createElement(p.n,{style:{textAlign:"center"}},l.a.createElement("h2",null,"Checkin in the cinema"),l.a.createElement("div",{className:"container"},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:50}},l.a.createElement(J.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:400,height:400}})))))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://us-central1-liuliu-d7864.cloudfunctions.net/app/checkOrder/".concat(this.props.id)).then(function(e){return e.json()}).then(function(t){e.setState({data:t})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this.state.data;return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light",style:{background:"#039be5",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08)",color:"#ffffff"}},l.a.createElement("a",{class:"navbar-brand"},"Movie App")),l.a.createElement("div",{className:"container",style:{textAlign:"center"}},e&&e.error&&l.a.createElement("h2",{style:{color:"red"}},"Sorry! Not check..."),e&&e.user&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{style:{color:"green"}},"Successed! Please come in..."),l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table card-table table-striped table-vcenter"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Title movie"),l.a.createElement("th",null,"Seat"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,e.user.name),l.a.createElement("td",null,e.user.email),l.a.createElement("td",null,e.order.title),l.a.createElement("td",null,e.order.seat))))))))}}]),t}(n.Component),Q=(a(110),document.getElementById("root"));c.a.render(l.a.createElement(function(){return l.a.createElement(o.c,null,l.a.createElement(j,{path:"/"}),l.a.createElement(O,{path:"login"}),l.a.createElement(S,{path:"signUp"}),l.a.createElement(w,{path:"admin"}),l.a.createElement(A,{path:"order/:id_movie"}),l.a.createElement(T,{path:"order/success/:id_order"}),l.a.createElement(P,{path:"admin/add_movie"}),l.a.createElement(W,{path:"admin/edit_movie/:id_movie"}),l.a.createElement(U,{path:"admin/view_ordered"}),l.a.createElement(I,{path:"*"}),l.a.createElement(V,{path:"checkin"}),l.a.createElement(q,{path:"checkin/:id"}))},null),Q)},14:function(e,t){e.exports={apiLocalhost:"http://localhost:8080"}},43:function(e,t,a){e.exports=a(112)},48:function(e,t,a){},56:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){}},[[43,3,2]]]);
//# sourceMappingURL=main.28b5d336.chunk.js.map